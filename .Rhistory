all.matrix <- abind::abind( ranksumsErrorsMissings, along = 2 )
PerDatasetRanksums_Missings <- apply( all.matrix, c( 1 ), function( x ) median( x, na.rm = TRUE ) )
if ( pfctMtdsInABC == FALSE ) {
PerDatasetRanksums_Missings <-
PerDatasetRanksums_Missings[!gsub( " imputed", "", names( PerDatasetRanksums_Missings ) ) %in% perfect_imputation_methods]
}
BestPerDatasetRanksums_Missings <- which.min( PerDatasetRanksums_Missings )
zABCvalues <- calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
zABCvalues
PerDatasetRanksums_Missings <- apply( all.matrix, c( 1 ), function( x ) median( x, na.rm = TRUE ) )
all.matrix
PerDatasetRanksums_Missings
meanRanks
ncol( RMSEMX[[1]]
ncol( RMSEMX[[1]] )
ncol( RMSEMX[[1]] )
length( PerDatasetRanksums_Missings )
nIter
d <- nVar * nIter
meanRanks = PerDatasetRanksums_Missings
nMethods = length( PerDatasetRanksums_Missings
nIter = nIter
nIter = nIter
nMethods = length( PerDatasetRanksums_Missings )
d <- nVar * nIter
nVar = ncol( RMSEMX[[1]] )
d <- nVar * nIter
M <- nMethods
m <- ( M + 1 ) / 2
s <- ( 1 / sqrt( 12 ) ) * ( M / sqrt( d ) )
ZmeanRanksPerAlg <- ( meanRanks - m ) / s
ZmeanRanksPerAlg[ZmeanRanksPerAlg > 0] <- 0
ABCvalue <- ZmeanRanksPerAlg^2
ABCvalue
calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
RRMSEMX <- rankMEs( RMSEMX )
RMEMx <- rankMEs( MEMx )
RrBiasMx <- rankMEs( rBiasMx )
rankErrorsMissings <- mapply( function( r1, r2, r3 ) { ( r1 + r2 + r3 ) / 3 }, RRMSEMX, RMEMx, RrBiasMx, SIMPLIFY = FALSE )
rankErrorsMissings <- renameDfcolumnsInNestedList( df = rankErrorsMissings )
ranksumsErrorsMissings <- lapply( rankErrorsMissings, function( x ) apply( x, 1, mean ) )
a <- do.call( abind::abind, c( rankErrorsMissings, list( along = 3 ) ) )
grandMeanrankErrorsMissings <- apply( a, 1:2, mean )
# grandMeanrankErrorsMissings <- Reduce( "+", rankErrorsMissings ) / length( rankErrorsMissings )
all.matrix <- abind::abind( ranksumsErrorsMissings, along = 2 )
PerDatasetRanksums_Missings <- apply( all.matrix, c( 1 ), function( x ) median( x, na.rm = TRUE ) )
if ( pfctMtdsInABC == FALSE ) {
PerDatasetRanksums_Missings <-
PerDatasetRanksums_Missings[!gsub( " imputed", "", names( PerDatasetRanksums_Missings ) ) %in% perfect_imputation_methods]
}
BestPerDatasetRanksums_Missings <- which.min( PerDatasetRanksums_Missings )
zABCvalues <- calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
ABCRanksums <-
ABCanalysis( as.vector( zABCvalues ) )
BestRanksumsGrandMean_Missings_ABC_A <-
names( PerDatasetRanksums_Missings )[ABCRanksums$Aind]
zABCvalues
calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
PerDatasetRanksums_Missings <- apply( all.matrix, c( 1 ), function( x ) median( x, na.rm = TRUE ) )
PerDatasetRanksums_Missings
zABCvalues <- calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
zABCvalues
PerDatasetRanksums_Missings[!gsub( " imputed", "", names( PerDatasetRanksums_Missings ) ) %in% perfect_imputation_methods]
calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
RRMSEMX <- rankMEs( RMSEMX )
RMEMx <- rankMEs( MEMx )
RrBiasMx <- rankMEs( rBiasMx )
rankErrorsMissings <- mapply( function( r1, r2, r3 ) { ( r1 + r2 + r3 ) / 3 }, RRMSEMX, RMEMx, RrBiasMx, SIMPLIFY = FALSE )
rankErrorsMissings <- renameDfcolumnsInNestedList( df = rankErrorsMissings )
ranksumsErrorsMissings <- lapply( rankErrorsMissings, function( x ) apply( x, 1, mean ) )
a <- do.call( abind::abind, c( rankErrorsMissings, list( along = 3 ) ) )
grandMeanrankErrorsMissings <- apply( a, 1:2, mean )
# grandMeanrankErrorsMissings <- Reduce( "+", rankErrorsMissings ) / length( rankErrorsMissings )
all.matrix <- abind::abind( ranksumsErrorsMissings, along = 2 )
PerDatasetRanksums_Missings <- apply( all.matrix, c( 1 ), function( x ) median( x, na.rm = TRUE ) )
if ( pfctMtdsInABC == FALSE ) {
PerDatasetRanksums_Missings <-
PerDatasetRanksums_Missings[!gsub( " imputed", "", names( PerDatasetRanksums_Missings ) ) %in% perfect_imputation_methods]
}
BestPerDatasetRanksums_Missings <- which.min( PerDatasetRanksums_Missings )
zABCvalues <- calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
zABCvalues
RRMSEMX <- rankMEs( RMSEMX )
RMEMx <- rankMEs( MEMx )
RrBiasMx <- rankMEs( rBiasMx )
rankErrorsMissings <- mapply( function( r1, r2, r3 ) { ( r1 + r2 + r3 ) / 3 }, RRMSEMX, RMEMx, RrBiasMx, SIMPLIFY = FALSE )
rankErrorsMissings <- renameDfcolumnsInNestedList( df = rankErrorsMissings )
ranksumsErrorsMissings <- lapply( rankErrorsMissings, function( x ) apply( x, 1, mean ) )
a <- do.call( abind::abind, c( rankErrorsMissings, list( along = 3 ) ) )
grandMeanrankErrorsMissings <- apply( a, 1:2, mean )
# grandMeanrankErrorsMissings <- Reduce( "+", rankErrorsMissings ) / length( rankErrorsMissings )
all.matrix <- abind::abind( ranksumsErrorsMissings, along = 2 )
PerDatasetRanksums_Missings <- apply( all.matrix, c( 1 ), function( x ) median( x, na.rm = TRUE ) )
zABCvalues <- calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
zABCvalues
zABCvalues <- calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
zABCvalues
if ( pfctMtdsInABC == FALSE ) {
PerDatasetRanksums_Missings <-
PerDatasetRanksums_Missings[!gsub( " imputed", "", names( PerDatasetRanksums_Missings ) ) %in% perfect_imputation_methods]
}
zABCvalues <- calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
zABCvalues
PerDatasetRanksums_Missings
zABCvalues <- calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
zABCvalues
RRMSEMX <- rankMEs( RMSEMX )
RMEMx <- rankMEs( MEMx )
RrBiasMx <- rankMEs( rBiasMx )
rankErrorsMissings <- mapply( function( r1, r2, r3 ) { ( r1 + r2 + r3 ) / 3 }, RRMSEMX, RMEMx, RrBiasMx, SIMPLIFY = FALSE )
rankErrorsMissings <- renameDfcolumnsInNestedList( df = rankErrorsMissings )
ranksumsErrorsMissings <- lapply( rankErrorsMissings, function( x ) apply( x, 1, mean ) )
a <- do.call( abind::abind, c( rankErrorsMissings, list( along = 3 ) ) )
grandMeanrankErrorsMissings <- apply( a, 1:2, mean )
# grandMeanrankErrorsMissings <- Reduce( "+", rankErrorsMissings ) / length( rankErrorsMissings )
all.matrix <- abind::abind( ranksumsErrorsMissings, along = 2 )
PerDatasetRanksums_Missings <- apply( all.matrix, c( 1 ), function( x ) median( x, na.rm = TRUE ) )
# if ( pfctMtdsInABC == FALSE ) {
#   PerDatasetRanksums_Missings <-
#     PerDatasetRanksums_Missings[!gsub( " imputed", "", names( PerDatasetRanksums_Missings ) ) %in% perfect_imputation_methods]
# }
BestPerDatasetRanksums_Missings <- which.min( PerDatasetRanksums_Missings )
zABCvalues <- calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
zABCvalues
RRMSEMX <- rankMEs( RMSEMX )
RMEMx <- rankMEs( MEMx )
RrBiasMx <- rankMEs( rBiasMx )
rankErrorsMissings <- mapply( function( r1, r2, r3 ) { ( r1 + r2 + r3 ) / 3 }, RRMSEMX, RMEMx, RrBiasMx, SIMPLIFY = FALSE )
rankErrorsMissings <- renameDfcolumnsInNestedList( df = rankErrorsMissings )
ranksumsErrorsMissings <- lapply( rankErrorsMissings, function( x ) apply( x, 1, mean ) )
a <- do.call( abind::abind, c( rankErrorsMissings, list( along = 3 ) ) )
grandMeanrankErrorsMissings <- apply( a, 1:2, mean )
# grandMeanrankErrorsMissings <- Reduce( "+", rankErrorsMissings ) / length( rankErrorsMissings )
all.matrix <- abind::abind( ranksumsErrorsMissings, along = 2 )
PerDatasetRanksums_Missings <- apply( all.matrix, c( 1 ), function( x ) median( x, na.rm = TRUE ) )
# if ( pfctMtdsInABC == FALSE ) {
#   PerDatasetRanksums_Missings <-
#     PerDatasetRanksums_Missings[!gsub( " imputed", "", names( PerDatasetRanksums_Missings ) ) %in% perfect_imputation_methods]
# }
BestPerDatasetRanksums_Missings <- which.min( PerDatasetRanksums_Missings )
zABCvalues <- calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
zABCvalues
RRMSEMX <- rankMEs( RMSEMX )
RMEMx <- rankMEs( MEMx )
RrBiasMx <- rankMEs( rBiasMx )
rankErrorsMissings <- mapply( function( r1, r2, r3 ) { ( r1 + r2 + r3 ) / 3 }, RRMSEMX, RMEMx, RrBiasMx, SIMPLIFY = FALSE )
rankErrorsMissings <- renameDfcolumnsInNestedList( df = rankErrorsMissings )
ranksumsErrorsMissings <- lapply( rankErrorsMissings, function( x ) apply( x, 1, mean ) )
a <- do.call( abind::abind, c( rankErrorsMissings, list( along = 3 ) ) )
grandMeanrankErrorsMissings <- apply( a, 1:2, mean )
# grandMeanrankErrorsMissings <- Reduce( "+", rankErrorsMissings ) / length( rankErrorsMissings )
all.matrix <- abind::abind( ranksumsErrorsMissings, along = 2 )
PerDatasetRanksums_Missings <- apply( all.matrix, c( 1 ), function( x ) median( x, na.rm = TRUE ) )
# if ( pfctMtdsInABC == FALSE ) {
#   PerDatasetRanksums_Missings <-
#     PerDatasetRanksums_Missings[!gsub( " imputed", "", names( PerDatasetRanksums_Missings ) ) %in% perfect_imputation_methods]
# }
BestPerDatasetRanksums_Missings <- which.min( PerDatasetRanksums_Missings )
zABCvalues <- calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
zABCvalues
RRMSEMX <- rankMEs( RMSEMX )
RMEMx <- rankMEs( MEMx )
RrBiasMx <- rankMEs( rBiasMx )
rankErrorsMissings <- mapply( function( r1, r2, r3 ) { ( r1 + r2 + r3 ) / 3 }, RRMSEMX, RMEMx, RrBiasMx, SIMPLIFY = FALSE )
rankErrorsMissings <- renameDfcolumnsInNestedList( df = rankErrorsMissings )
ranksumsErrorsMissings <- lapply( rankErrorsMissings, function( x ) apply( x, 1, mean ) )
a <- do.call( abind::abind, c( rankErrorsMissings, list( along = 3 ) ) )
grandMeanrankErrorsMissings <- apply( a, 1:2, mean )
# grandMeanrankErrorsMissings <- Reduce( "+", rankErrorsMissings ) / length( rankErrorsMissings )
all.matrix <- abind::abind( ranksumsErrorsMissings, along = 2 )
PerDatasetRanksums_Missings <- apply( all.matrix, c( 1 ), function( x ) median( x, na.rm = TRUE ) )
# if ( pfctMtdsInABC == FALSE ) {
#   PerDatasetRanksums_Missings <-
#     PerDatasetRanksums_Missings[!gsub( " imputed", "", names( PerDatasetRanksums_Missings ) ) %in% perfect_imputation_methods]
# }
BestPerDatasetRanksums_Missings <- which.min( PerDatasetRanksums_Missings )
zABCvalues <- calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
zABCvalues
RRMSEMX <- rankMEs( RMSEMX )
RMEMx <- rankMEs( MEMx )
RrBiasMx <- rankMEs( rBiasMx )
rankErrorsMissings <- mapply( function( r1, r2, r3 ) { ( r1 + r2 + r3 ) / 3 }, RRMSEMX, RMEMx, RrBiasMx, SIMPLIFY = FALSE )
rankErrorsMissings <- renameDfcolumnsInNestedList( df = rankErrorsMissings )
ranksumsErrorsMissings <- lapply( rankErrorsMissings, function( x ) apply( x, 1, mean ) )
a <- do.call( abind::abind, c( rankErrorsMissings, list( along = 3 ) ) )
grandMeanrankErrorsMissings <- apply( a, 1:2, mean )
# grandMeanrankErrorsMissings <- Reduce( "+", rankErrorsMissings ) / length( rankErrorsMissings )
all.matrix <- abind::abind( ranksumsErrorsMissings, along = 2 )
PerDatasetRanksums_Missings <- apply( all.matrix, c( 1 ), function( x ) median( x, na.rm = TRUE ) )
# if ( pfctMtdsInABC == FALSE ) {
#   PerDatasetRanksums_Missings <-
#     PerDatasetRanksums_Missings[!gsub( " imputed", "", names( PerDatasetRanksums_Missings ) ) %in% perfect_imputation_methods]
# }
BestPerDatasetRanksums_Missings <- which.min( PerDatasetRanksums_Missings )
zABCvalues <- calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
zABCvalues
RRMSEMX <- rankMEs( RMSEMX )
RMEMx <- rankMEs( MEMx )
RrBiasMx <- rankMEs( rBiasMx )
rankErrorsMissings <- mapply( function( r1, r2, r3 ) { ( r1 + r2 + r3 ) / 3 }, RRMSEMX, RMEMx, RrBiasMx, SIMPLIFY = FALSE )
rankErrorsMissings <- renameDfcolumnsInNestedList( df = rankErrorsMissings )
ranksumsErrorsMissings <- lapply( rankErrorsMissings, function( x ) apply( x, 1, mean ) )
a <- do.call( abind::abind, c( rankErrorsMissings, list( along = 3 ) ) )
grandMeanrankErrorsMissings <- apply( a, 1:2, mean )
# grandMeanrankErrorsMissings <- Reduce( "+", rankErrorsMissings ) / length( rankErrorsMissings )
all.matrix <- abind::abind( ranksumsErrorsMissings, along = 2 )
PerDatasetRanksums_Missings <- apply( all.matrix, c( 1 ), function( x ) median( x, na.rm = TRUE ) )
# if ( pfctMtdsInABC == FALSE ) {
#   PerDatasetRanksums_Missings <-
#     PerDatasetRanksums_Missings[!gsub( " imputed", "", names( PerDatasetRanksums_Missings ) ) %in% perfect_imputation_methods]
# }
BestPerDatasetRanksums_Missings <- which.min( PerDatasetRanksums_Missings )
zABCvalues <- calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
zABCvalues
RRMSEMX <- rankMEs( RMSEMX )
RMEMx <- rankMEs( MEMx )
RrBiasMx <- rankMEs( rBiasMx )
rankErrorsMissings <- mapply( function( r1, r2, r3 ) { ( r1 + r2 + r3 ) / 3 }, RRMSEMX, RMEMx, RrBiasMx, SIMPLIFY = FALSE )
rankErrorsMissings <- renameDfcolumnsInNestedList( df = rankErrorsMissings )
ranksumsErrorsMissings <- lapply( rankErrorsMissings, function( x ) apply( x, 1, mean ) )
a <- do.call( abind::abind, c( rankErrorsMissings, list( along = 3 ) ) )
grandMeanrankErrorsMissings <- apply( a, 1:2, mean )
# grandMeanrankErrorsMissings <- Reduce( "+", rankErrorsMissings ) / length( rankErrorsMissings )
all.matrix <- abind::abind( ranksumsErrorsMissings, along = 2 )
PerDatasetRanksums_Missings <- apply( all.matrix, c( 1 ), function( x ) median( x, na.rm = TRUE ) )
# if ( pfctMtdsInABC == FALSE ) {
#   PerDatasetRanksums_Missings <-
#     PerDatasetRanksums_Missings[!gsub( " imputed", "", names( PerDatasetRanksums_Missings ) ) %in% perfect_imputation_methods]
# }
BestPerDatasetRanksums_Missings <- which.min( PerDatasetRanksums_Missings )
zABCvalues <- calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
zABCvalues
RRMSEMX <- rankMEs( RMSEMX )
RMEMx <- rankMEs( MEMx )
RrBiasMx <- rankMEs( rBiasMx )
rankErrorsMissings <- mapply( function( r1, r2, r3 ) { ( r1 + r2 + r3 ) / 3 }, RRMSEMX, RMEMx, RrBiasMx, SIMPLIFY = FALSE )
rankErrorsMissings <- renameDfcolumnsInNestedList( df = rankErrorsMissings )
ranksumsErrorsMissings <- lapply( rankErrorsMissings, function( x ) apply( x, 1, mean ) )
a <- do.call( abind::abind, c( rankErrorsMissings, list( along = 3 ) ) )
grandMeanrankErrorsMissings <- apply( a, 1:2, mean )
# grandMeanrankErrorsMissings <- Reduce( "+", rankErrorsMissings ) / length( rankErrorsMissings )
all.matrix <- abind::abind( ranksumsErrorsMissings, along = 2 )
PerDatasetRanksums_Missings <- apply( all.matrix, c( 1 ), function( x ) median( x, na.rm = TRUE ) )
# if ( pfctMtdsInABC == FALSE ) {
#   PerDatasetRanksums_Missings <-
#     PerDatasetRanksums_Missings[!gsub( " imputed", "", names( PerDatasetRanksums_Missings ) ) %in% perfect_imputation_methods]
# }
BestPerDatasetRanksums_Missings <- which.min( PerDatasetRanksums_Missings )
zABCvalues <- calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
zABCvalues
RRMSEMX <- rankMEs( RMSEMX )
RMEMx <- rankMEs( MEMx )
RrBiasMx <- rankMEs( rBiasMx )
rankErrorsMissings <- mapply( function( r1, r2, r3 ) { ( r1 + r2 + r3 ) / 3 }, RRMSEMX, RMEMx, RrBiasMx, SIMPLIFY = FALSE )
rankErrorsMissings <- renameDfcolumnsInNestedList( df = rankErrorsMissings )
ranksumsErrorsMissings <- lapply( rankErrorsMissings, function( x ) apply( x, 1, mean ) )
a <- do.call( abind::abind, c( rankErrorsMissings, list( along = 3 ) ) )
grandMeanrankErrorsMissings <- apply( a, 1:2, mean )
# grandMeanrankErrorsMissings <- Reduce( "+", rankErrorsMissings ) / length( rankErrorsMissings )
all.matrix <- abind::abind( ranksumsErrorsMissings, along = 2 )
PerDatasetRanksums_Missings <- apply( all.matrix, c( 1 ), function( x ) median( x, na.rm = TRUE ) )
# if ( pfctMtdsInABC == FALSE ) {
#   PerDatasetRanksums_Missings <-
#     PerDatasetRanksums_Missings[!gsub( " imputed", "", names( PerDatasetRanksums_Missings ) ) %in% perfect_imputation_methods]
# }
BestPerDatasetRanksums_Missings <- which.min( PerDatasetRanksums_Missings )
zABCvalues <- calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
zABCvalues
RRMSEMX <- rankMEs( RMSEMX )
RMEMx <- rankMEs( MEMx )
RrBiasMx <- rankMEs( rBiasMx )
rankErrorsMissings <- mapply( function( r1, r2, r3 ) { ( r1 + r2 + r3 ) / 3 }, RRMSEMX, RMEMx, RrBiasMx, SIMPLIFY = FALSE )
rankErrorsMissings <- renameDfcolumnsInNestedList( df = rankErrorsMissings )
ranksumsErrorsMissings <- lapply( rankErrorsMissings, function( x ) apply( x, 1, mean ) )
a <- do.call( abind::abind, c( rankErrorsMissings, list( along = 3 ) ) )
grandMeanrankErrorsMissings <- apply( a, 1:2, mean )
# grandMeanrankErrorsMissings <- Reduce( "+", rankErrorsMissings ) / length( rankErrorsMissings )
all.matrix <- abind::abind( ranksumsErrorsMissings, along = 2 )
PerDatasetRanksums_Missings <- apply( all.matrix, c( 1 ), function( x ) median( x, na.rm = TRUE ) )
# if ( pfctMtdsInABC == FALSE ) {
#   PerDatasetRanksums_Missings <-
#     PerDatasetRanksums_Missings[!gsub( " imputed", "", names( PerDatasetRanksums_Missings ) ) %in% perfect_imputation_methods]
# }
BestPerDatasetRanksums_Missings <- which.min( PerDatasetRanksums_Missings )
zABCvalues <- calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
zABCvalues
RRMSEMX <- rankMEs( RMSEMX )
RMEMx <- rankMEs( MEMx )
RrBiasMx <- rankMEs( rBiasMx )
rankErrorsMissings <- mapply( function( r1, r2, r3 ) { ( r1 + r2 + r3 ) / 3 }, RRMSEMX, RMEMx, RrBiasMx, SIMPLIFY = FALSE )
rankErrorsMissings <- renameDfcolumnsInNestedList( df = rankErrorsMissings )
ranksumsErrorsMissings <- lapply( rankErrorsMissings, function( x ) apply( x, 1, mean ) )
a <- do.call( abind::abind, c( rankErrorsMissings, list( along = 3 ) ) )
grandMeanrankErrorsMissings <- apply( a, 1:2, mean )
# grandMeanrankErrorsMissings <- Reduce( "+", rankErrorsMissings ) / length( rankErrorsMissings )
all.matrix <- abind::abind( ranksumsErrorsMissings, along = 2 )
PerDatasetRanksums_Missings <- apply( all.matrix, c( 1 ), function( x ) median( x, na.rm = TRUE ) )
if ( pfctMtdsInABC == FALSE ) {
PerDatasetRanksums_Missings <-
PerDatasetRanksums_Missings[!gsub( " imputed", "", names( PerDatasetRanksums_Missings ) ) %in% perfect_imputation_methods]
}
BestPerDatasetRanksums_Missings <- which.min( PerDatasetRanksums_Missings )
zABCvalues <- calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
zABCvalues
RRMSEMX <- rankMEs( RMSEMX )
RMEMx <- rankMEs( MEMx )
RrBiasMx <- rankMEs( rBiasMx )
rankErrorsMissings <- mapply( function( r1, r2, r3 ) { ( r1 + r2 + r3 ) / 3 }, RRMSEMX, RMEMx, RrBiasMx, SIMPLIFY = FALSE )
rankErrorsMissings <- renameDfcolumnsInNestedList( df = rankErrorsMissings )
ranksumsErrorsMissings <- lapply( rankErrorsMissings, function( x ) apply( x, 1, mean ) )
a <- do.call( abind::abind, c( rankErrorsMissings, list( along = 3 ) ) )
grandMeanrankErrorsMissings <- apply( a, 1:2, mean )
# grandMeanrankErrorsMissings <- Reduce( "+", rankErrorsMissings ) / length( rankErrorsMissings )
all.matrix <- abind::abind( ranksumsErrorsMissings, along = 2 )
PerDatasetRanksums_Missings <- apply( all.matrix, c( 1 ), function( x ) median( x, na.rm = TRUE ) )
if ( pfctMtdsInABC == FALSE ) {
PerDatasetRanksums_Missings <-
PerDatasetRanksums_Missings[!gsub( " imputed", "", names( PerDatasetRanksums_Missings ) ) %in% perfect_imputation_methods]
}
BestPerDatasetRanksums_Missings <- which.min( PerDatasetRanksums_Missings )
zABCvalues <- calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
zABCvalues
RRMSEMX <- rankMEs( RMSEMX )
RMEMx <- rankMEs( MEMx )
RrBiasMx <- rankMEs( rBiasMx )
rankErrorsMissings <- mapply( function( r1, r2, r3 ) { ( r1 + r2 + r3 ) / 3 }, RRMSEMX, RMEMx, RrBiasMx, SIMPLIFY = FALSE )
rankErrorsMissings <- renameDfcolumnsInNestedList( df = rankErrorsMissings )
ranksumsErrorsMissings <- lapply( rankErrorsMissings, function( x ) apply( x, 1, mean ) )
a <- do.call( abind::abind, c( rankErrorsMissings, list( along = 3 ) ) )
grandMeanrankErrorsMissings <- apply( a, 1:2, mean )
# grandMeanrankErrorsMissings <- Reduce( "+", rankErrorsMissings ) / length( rankErrorsMissings )
all.matrix <- abind::abind( ranksumsErrorsMissings, along = 2 )
PerDatasetRanksums_Missings <- apply( all.matrix, c( 1 ), function( x ) median( x, na.rm = TRUE ) )
if ( pfctMtdsInABC == FALSE ) {
PerDatasetRanksums_Missings <-
PerDatasetRanksums_Missings[!gsub( " imputed", "", names( PerDatasetRanksums_Missings ) ) %in% perfect_imputation_methods]
}
BestPerDatasetRanksums_Missings <- which.min( PerDatasetRanksums_Missings )
zABCvalues <- calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
zABCvalues
RRMSEMX <- rankMEs( RMSEMX )
RMEMx <- rankMEs( MEMx )
RrBiasMx <- rankMEs( rBiasMx )
rankErrorsMissings <- mapply( function( r1, r2, r3 ) { ( r1 + r2 + r3 ) / 3 }, RRMSEMX, RMEMx, RrBiasMx, SIMPLIFY = FALSE )
rankErrorsMissings <- renameDfcolumnsInNestedList( df = rankErrorsMissings )
ranksumsErrorsMissings <- lapply( rankErrorsMissings, function( x ) apply( x, 1, mean ) )
a <- do.call( abind::abind, c( rankErrorsMissings, list( along = 3 ) ) )
grandMeanrankErrorsMissings <- apply( a, 1:2, mean )
# grandMeanrankErrorsMissings <- Reduce( "+", rankErrorsMissings ) / length( rankErrorsMissings )
all.matrix <- abind::abind( ranksumsErrorsMissings, along = 2 )
PerDatasetRanksums_Missings <- apply( all.matrix, c( 1 ), function( x ) median( x, na.rm = TRUE ) )
if ( pfctMtdsInABC == FALSE ) {
PerDatasetRanksums_Missings <-
PerDatasetRanksums_Missings[!gsub( " imputed", "", names( PerDatasetRanksums_Missings ) ) %in% perfect_imputation_methods]
}
BestPerDatasetRanksums_Missings <- which.min( PerDatasetRanksums_Missings )
zABCvalues <- calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
zABCvalues
RRMSEMX <- rankMEs( RMSEMX )
RMEMx <- rankMEs( MEMx )
RrBiasMx <- rankMEs( rBiasMx )
rankErrorsMissings <- mapply( function( r1, r2, r3 ) { ( r1 + r2 + r3 ) / 3 }, RRMSEMX, RMEMx, RrBiasMx, SIMPLIFY = FALSE )
rankErrorsMissings <- renameDfcolumnsInNestedList( df = rankErrorsMissings )
ranksumsErrorsMissings <- lapply( rankErrorsMissings, function( x ) apply( x, 1, mean ) )
a <- do.call( abind::abind, c( rankErrorsMissings, list( along = 3 ) ) )
grandMeanrankErrorsMissings <- apply( a, 1:2, mean )
# grandMeanrankErrorsMissings <- Reduce( "+", rankErrorsMissings ) / length( rankErrorsMissings )
all.matrix <- abind::abind( ranksumsErrorsMissings, along = 2 )
PerDatasetRanksums_Missings <- apply( all.matrix, c( 1 ), function( x ) median( x, na.rm = TRUE ) )
if ( pfctMtdsInABC == FALSE ) {
PerDatasetRanksums_Missings <-
PerDatasetRanksums_Missings[!gsub( " imputed", "", names( PerDatasetRanksums_Missings ) ) %in% perfect_imputation_methods]
}
BestPerDatasetRanksums_Missings <- which.min( PerDatasetRanksums_Missings )
zABCvalues <- calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
zABCvalues
PerDatasetRanksums_Missings
RMSEMX
RMSEinsertedMissings
RMSEinsertedMissings
RMSEinsertedMissings1 <- lapply(RMSEinsertedMissings, function (x) x[1,])
RMSEinsertedMissings1
RMSEinsertedMissings1 <- lapply(RMSEinsertedMissings, function (x) x[rownames(x) %in% perfect_imputation_methods])
RMSEinsertedMissings1
RMSEinsertedMissings1 <- lapply(RMSEinsertedMissings, function (x) x[gusb(" imputed","", rownames(x)) %in% perfect_imputation_methods])
RMSEinsertedMissings1 <- lapply(RMSEinsertedMissings, function (x) x[gsub(" imputed","", rownames(x)) %in% perfect_imputation_methods])
RMSEinsertedMissings1 <- lapply(RMSEinsertedMissings, function (x) x[gsub(" imputed","", rownames(x)) %in% perfect_imputation_methods,])
RMSEinsertedMissings1
RMSEinsertedMissings1 <- lapply(RMSEinsertedMissings, function (x) x[!gsub(" imputed","", rownames(x)) %in% perfect_imputation_methods,])
RMSEinsertedMissings1
# Inserted diagnostic missings
RMSEinsertedMissings <- lapply( RepeatedSampleImputations, function( x ) {
x[["ImputationRMSEInsertedMissings"]]
} )
MEinsertedMissings <- lapply( RepeatedSampleImputations, function( x ) {
x[["ImputationMEInsertedMissings"]]
} )
rBiasinsertedMissings <- lapply( RepeatedSampleImputations, function( x ) {
x[["ImputationrBiasInsertedMissings"]]
} )
if ( pfctMtdsInABC == FALSE ) {
RMSEinsertedMissings <- lapply(RMSEinsertedMissings, function (x) x[!gsub(" imputed","", rownames(x)) %in% perfect_imputation_methods,])
MEinsertedMissings <- lapply(MEinsertedMissings, function (x) x[!gsub(" imputed","", rownames(x)) %in% perfect_imputation_methods,])
rBiasinsertedMissings <- lapply(rBiasinsertedMissings, function (x) x[!gsub(" imputed","", rownames(x)) %in% perfect_imputation_methods,])
}
RMSEMX = RMSEinsertedMissings
MEMx = MEinsertedMissings
rBiasMx = rBiasinsertedMissings
pfctMtdsInABC = pfctMtdsInABC
nIter = nIter
RRMSEMX <- rankMEs( RMSEMX )
RMEMx <- rankMEs( MEMx )
RrBiasMx <- rankMEs( rBiasMx )
rankErrorsMissings <- mapply( function( r1, r2, r3 ) { ( r1 + r2 + r3 ) / 3 }, RRMSEMX, RMEMx, RrBiasMx, SIMPLIFY = FALSE )
rankErrorsMissings <- renameDfcolumnsInNestedList( df = rankErrorsMissings )
ranksumsErrorsMissings <- lapply( rankErrorsMissings, function( x ) apply( x, 1, mean ) )
a <- do.call( abind::abind, c( rankErrorsMissings, list( along = 3 ) ) )
grandMeanrankErrorsMissings <- apply( a, 1:2, mean )
# grandMeanrankErrorsMissings <- Reduce( "+", rankErrorsMissings ) / length( rankErrorsMissings )
all.matrix <- abind::abind( ranksumsErrorsMissings, along = 2 )
PerDatasetRanksums_Missings <- apply( all.matrix, c( 1 ), function( x ) median( x, na.rm = TRUE ) )
BestPerDatasetRanksums_Missings <- which.min( PerDatasetRanksums_Missings )
zABCvalues <- calculateZABCvalues( meanRanks = PerDatasetRanksums_Missings,
nVar = ncol( RMSEMX[[1]] ),
nMethods = length( PerDatasetRanksums_Missings ),
nIter = nIter )
zABCvalues
PerDatasetRanksums_Missings
library(opImputation)
TestImputationIrisPerfect <- opImputation(Data = iris[,1:4],
ImputationMethods =  c(all_imputation_methods, perfect_imputation_methods), nProc = nProc)
library(opImputation)
TestImputationIrisPerfect <- opImputation(Data = iris[,1:4],
ImputationMethods =  c(all_imputation_methods, perfect_imputation_methods), nProc = nProc)
